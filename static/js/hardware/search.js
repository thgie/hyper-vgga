// Generated by CoffeeScript 1.3.3
(function() {

  $(document).ready(function() {
    var add_remove, label, tag_add_remove, _i, _len;
    tag_add_remove = function(tag_select, tag_wrapper, target_form) {
      $(tag_select).change(function(e) {
        add_remove($(e.target).val(), tag_wrapper, target_form);
      });
    };
    tag_add_remove('.tags', '#tag_wrapper', '#hardware_search');
    add_remove = function(tag, tag_wrapper, target_form) {
      $(tag_wrapper).append('<a href="' + tag + '" class="remove_tag btn btn-mini btn-info" style="margin-bottom: 5px;">' + tag + ' <i class="icon-remove-sign icon-white"></i></a> ');
      $(target_form).append('<input type="hidden" name="tag" value="' + tag + '"/>');
      $('.remove_tag').click(function(e) {
        e.preventDefault();
        if ($(e.target).hasClass('remove_tag')) {
          $(e.target).remove();
          $('input[value="' + $(e.target).attr('href') + '"]').remove();
        } else {
          $(e.target).parent().remove();
          $('input[value="' + $(e.target).parent().attr('href') + '"]').remove();
        }
      });
    };
    if (labels.length > 0) {
      for (_i = 0, _len = labels.length; _i < _len; _i++) {
        label = labels[_i];
        add_remove(label, '#tag_wrapper', '#hardware_search');
      }
    }
  });

}).call(this);
